<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="shortcut icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSalw4gDX091S5wLF5K8Gu9cMBViXJrjaHSNQ&s" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Items</title>
    <style>
        body {
            font-family: "Helvetica Neue", sans-serif;
            margin: 0;
            padding: 0;
            background: rgb(2, 0, 36);
            background: linear-gradient(
                90deg,
                rgba(2, 0, 36, 1) 0%,
                rgba(9, 9, 121, 1) 35%,
                rgba(0, 212, 255, 1) 100%
            );
        }
        .container {
            width: 90%;
            max-width: 600px;
            margin: 30px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        .balance {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2em;
            font-weight: 500;
            color: #343a40;
        }
        .item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #dee2e6;
        }
        .item img {
            width: 80px; /* Adjusted for smaller screens */
            height: auto;
            margin-right: 15px;
            border-radius: 8px;
        }
        .item-details {
            flex: 1;
        }
        .item-title {
            font-size: 1.2em; /* Adjusted for smaller screens */
            margin-bottom: 5px;
            font-weight: 600;
            color: #495057;
        }
        .item-price {
            font-size: 1em; /* Adjusted for smaller screens */
            color: #28a745;
        }
        .item-days {
            display: flex;
            align-items: center;
            margin-left: 15px;
        }
        .total, .remaining-balance, .balance-shortfall {
            text-align: right;
            font-size: 1.2em; /* Adjusted for smaller screens */
            margin-top: 15px;
            font-weight: 600;
            color: #495057;
        }
        .balance-shortfall {
            color: #dc3545;
        }
        .check-balance-btn, .update-saldo-btn {
            display: block;
            width: 100%;
            padding: 12px;
            color: white;
            border: none;
            font-size: 1em; /* Adjusted for smaller screens */
            cursor: pointer;
            margin-top: 15px;
            background-image: linear-gradient(
                to right,
                #314755 0%,
                #26a0da 51%,
                #314755 100%
            );
            transition: 0.5s;
            background-size: 200% auto;
            box-shadow: 0 0 20px #eee;
            border-radius: 10px;
        }
        .check-balance-btn:hover, .update-saldo-btn:hover {
            background-position: right center; /* change the direction of the change here */
            color: #fff;
            text-decoration: none;
        }
        input[type="checkbox"], input[type="number"], input[type="text"] {
            margin-right: 10px;
            margin-left: 10px;
            transform: scale(1.2); /* Adjusted for smaller screens */
        }
        input[type="number"] {
            width: 30px; /* Adjusted for smaller screens */
            padding: 4px;
            font-size: 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            text-align: center;
        }
        .item-days label {
            margin-right: 5px;
            font-weight: 500;
            color: #495057;
        }
        .input-saldo {
            width: 50px;
            padding: 4px;
            margin: 15px;
            font-size: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            text-align: center;
        }
        header {
                color: white;
    width: 100%;
    text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <h1>Target Juli</h1>
    </header>
    <div class="container">
        <div class="balance">
            Saldo Sekarang: Rp <span id="balance">139,000</span>
            <br>
            <label for="input-saldo">Masukkan Saldo Sekarang:</label>
            <input type="text" id="input-saldo" class="input-saldo" value="139000" placeholder="Masukkan saldo">
            <button class="update-saldo-btn" onclick="updateBalance()">Update Saldo</button>
        </div>

        <div class="item">
            <input type="checkbox" class="item-checkbox" data-price="120000">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_M2dXCuvTk1USGJaGuEjAyH1C9smzsNYnnA&s" alt="Item 1">
            <div class="item-details">
                <div class="item-title">VC Nala</div>
                <div class="item-price">Rp 120,000</div>
            </div>
        </div>

        <div class="item">
            <input type="checkbox" class="item-checkbox" data-price="55000">
            <img src="https://images.tokopedia.net/img/cache/700/VqbcmM/2023/9/29/e7d0a6d4-5267-42cb-adac-e6ae006149cc.jpg" alt="Item 2">
            <div class="item-details">
                <div class="item-title">EA FC24 Steam</div>
                <div class="item-price">Rp 55,000</div>
            </div>
        </div>
        
        <div class="item">
            <input type="checkbox" class="item-checkbox" data-price="200000">
            <img src="https://i.pinimg.com/736x/56/33/b2/5633b28ccfac8b8a74a5db610d05087c.jpg" alt="Item 2">
            <div class="item-details">
                <div class="item-title">Teateran</div>
                <div class="item-price">Rp 200,000</div>
            </div>
        </div>

        <div class="item">
            <input type="checkbox" class="item-checkbox" data-price="6000" id="item3">
            <img src="https://image.cermati.com/v1534325581/ceqfiym03u4a1cqokyjp.jpg" alt="Item 3">
            <div class="item-details">
                <div class="item-title">Kereta</div>
                <div class="item-price">Rp 6,000 per hari</div>
            </div>
            <div class="item-days">
                <label for="days-item3">Jumlah hari:</label>
                <input type="number" id="days-item3" value="1" min="1">
            </div>
        </div>

        <div class="total">
            Total: Rp <span id="total">0</span>
        </div>
        <div id="balance-shortfall" class="balance-shortfall"></div>
        <button class="check-balance-btn" onclick="checkBalance()">Check Sisa Saldo</button>
        <div id="remaining-balance" class="remaining-balance"></div>
    </div>

    <script>
        const balanceElement = document.getElementById('balance');
        const totalElement = document.getElementById('total');
        const balanceShortfallElement = document.getElementById('balance-shortfall');
        const remainingBalanceElement = document.getElementById('remaining-balance');
        const inputSaldoElement = document.getElementById('input-saldo');
        const checkboxes = document.querySelectorAll('.item-checkbox');
        let balance = parseInt(balanceElement.textContent);

        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', updateTotal);
        });

        const daysInput = document.getElementById('days-item3');
        daysInput.addEventListener('input', updateTotal);

        function updateTotal() {
            let total = 0;
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const price = parseInt(checkbox.getAttribute('data-price'));
                    if (checkbox.id === 'item3') {
                        const days = parseInt(daysInput.value);
                        total += price * days;
                    } else {
                        total += price;
                    }
                }
            });

            totalElement.textContent = total.toLocaleString();
            balanceShortfallElement.textContent = '';

            if (total > balance) {
                const shortfall = total - balance;
                balanceShortfallElement.textContent = `Saldo kurang: Rp ${shortfall.toLocaleString()}`;
            }
        }

        function checkBalance() {
            let total = 0;

            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const price = parseInt(checkbox.getAttribute('data-price'));
                    if (checkbox.id === 'item3') {
                        const days = parseInt(daysInput.value);
                        total += price * days;
                    } else {
                        total += price;
                    }
                }
            });

            const remainingBalance = balance - total;

            if (remainingBalance >= 0) {
                remainingBalanceElement.textContent = `Sisa Saldo: Rp ${remainingBalance.toLocaleString()}`;
                balanceShortfallElement.textContent = '';
            } else {
                remainingBalanceElement.textContent = '';
                const shortfall = total - balance;
                balanceShortfallElement.textContent = `Saldo kurang: Rp ${shortfall.toLocaleString()}`;
            }
        }

        function updateBalance() {
            const newBalance = parseInt(inputSaldoElement.value);
            if (!isNaN(newBalance)) {
                balance = newBalance;
                balanceElement.textContent = balance.toLocaleString();
                inputSaldoElement.value = '';
                updateTotal();
                checkBalance();
            } else {
                alert('Masukkan saldo yang valid.');
            }
        }
    </script>
</body>
</html>
