<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout Items</title>
    <style>
      body {
        font-family: "Helvetica Neue", sans-serif;
        margin: 0;
        padding: 0;
        background: rgb(2, 0, 36);
        background: linear-gradient(
          90deg,
          rgba(2, 0, 36, 1) 0%,
          rgba(9, 9, 121, 1) 35%,
          rgba(0, 212, 255, 1) 100%
        );
      }
      .container {
        width: 80%;
        margin: 30px auto;
        background-color: #fff;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      }
      .balance {
        text-align: center;
        margin-bottom: 20px;
        font-size: 1.2em;
        font-weight: 500;
        color: #343a40;
      }
      .item {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid #dee2e6;
      }
      .item img {
        width: 100px;
        height: auto;
        margin-right: 20px;
        border-radius: 8px;
      }
      .item-details {
        flex: 1;
      }
      .item-title {
        font-size: 1.4em;
        margin-bottom: 5px;
        font-weight: 600;
        color: #495057;
      }
      .item-price {
        font-size: 1.2em;
        color: #28a745;
      }
      .item-days {
        display: flex;
        align-items: center;
        margin-left: 20px;
      }
      .total,
      .remaining-balance,
      .balance-shortfall {
        text-align: right;
        font-size: 1.5em;
        margin-top: 20px;
        padding-top: 20px;
        font-weight: 600;
        color: #495057;
      }
      .balance-shortfall {
        color: #dc3545;
      }
      .check-balance-btn {
        display: block;
        width: 100%;
        padding: 15px;

        color: white;
        border: none;
        font-size: 1.2em;
        cursor: pointer;
        margin-top: 0px;
                background-image: linear-gradient(
          to right,
          #314755 0%,
          #26a0da 51%,
          #314755 100%
        );

        transition: 0.5s;
        background-size: 200% auto;
        box-shadow: 0 0 20px #eee;
        border-radius: 10px;
      }
      .check-balance-btn:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }
      input[type="checkbox"],
      input[type="number"],
      input[type="text"] {
        
        margin-right: 15px;
        margin-left: 15px;
        transform: scale(1.5);
      }
      input[type="number"] {
        width: 40px;
        padding: 5px;
        font-size: 12px;
        border: 1px solid #ced4da;
        border-radius: 4px;
        text-align: center;
      }
      .item-days label {
        margin-right: 10px;
        font-weight: 500;
        color: #495057;
      }
      .input-saldo {
        width: 50px;
        padding: 5px;
        margin: 30px;
        font-size: 10px;
        border: 1px solid #ced4da;
        border-radius: 4px;
        text-align: center;
      }
      .update-saldo-btn {
        padding: 8px 16px;
        font-size: 14px;
        border: none;
        color: white;
        cursor: pointer;
        background-image: linear-gradient(
          to right,
          #314755 0%,
          #26a0da 51%,
          #314755 100%
        );

        transition: 0.5s;
        background-size: 200% auto;
        box-shadow: 0 0 20px #eee;
        border-radius: 10px;
      }
      .update-saldo-btn:hover {
        background-position: right center; /* change the direction of the change here */
        color: #fff;
        text-decoration: none;
      }
      header {
    color: white;
    width: 100%;
    text-align: center;
}
    </style>
  </head>
  <body>
    <header>
        <h1>Target??</h1>
    </header>
    <div class="container">
      <div class="balance">
        Saldo Sekarang: Rp <span id="balance">139000</span>
        <br />
        <label for="input-saldo">Masukkan Saldo Sekarang:</label>
        <input
          type="text"
          id="input-saldo"
          class="input-saldo"
          value="139000"
          placeholder="Masukkan saldo"
        />
        <button class="update-saldo-btn" onclick="updateBalance()">
          Update Saldo
        </button>
      </div>

      <div class="item">
        <input type="checkbox" class="item-checkbox" data-price="120000" />
        <img
          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_M2dXCuvTk1USGJaGuEjAyH1C9smzsNYnnA&s"
          alt="Item 1"
        />
        <div class="item-details">
          <div class="item-title">VC Nala</div>
          <div class="item-price">Rp 120,000</div>
        </div>
      </div>

      <div class="item">
        <input type="checkbox" class="item-checkbox" data-price="55000" />
        <img
          src="https://images.tokopedia.net/img/cache/700/VqbcmM/2023/9/29/e7d0a6d4-5267-42cb-adac-e6ae006149cc.jpg"
          alt="Item 2"
        />
        <div class="item-details">
          <div class="item-title">EA FC24 Steam</div>
          <div class="item-price">Rp 55,000</div>
        </div>
      </div>

      <div class="item">
        <input
          type="checkbox"
          class="item-checkbox"
          data-price="6000"
          id="item3"
        />
        <img
          src="https://image.cermati.com/v1534325581/ceqfiym03u4a1cqokyjp.jpg"
          alt="Item 3"
        />
        <div class="item-details">
          <div class="item-title">Kereta</div>
          <div class="item-price">Rp 6,000 per hari</div>
        </div>
        <div class="item-days">
          <label for="days-item3">Jumlah hari:</label>
          <input type="number" id="days-item3" value="1" min="1" />
        </div>
      </div>

      <div class="total">Total: Rp <span id="total">0</span></div>
      <div id="balance-shortfall" class="balance-shortfall"></div>
      <button class="check-balance-btn" onclick="checkBalance()">
        Check Sisa Saldo
      </button>
      <div id="remaining-balance" class="remaining-balance"></div>
    </div>

    <script>
      const balanceElement = document.getElementById("balance");
      const totalElement = document.getElementById("total");
      const balanceShortfallElement =
        document.getElementById("balance-shortfall");
      const remainingBalanceElement =
        document.getElementById("remaining-balance");
      const inputSaldoElement = document.getElementById("input-saldo");
      const checkboxes = document.querySelectorAll(".item-checkbox");
      let balance = parseInt(balanceElement.textContent);

      checkboxes.forEach((checkbox) => {
        checkbox.addEventListener("change", updateTotal);
      });

      const daysInput = document.getElementById("days-item3");
      daysInput.addEventListener("input", updateTotal);

      function updateTotal() {
        let total = 0;
        checkboxes.forEach((checkbox) => {
          if (checkbox.checked) {
            const price = parseInt(checkbox.getAttribute("data-price"));
            if (checkbox.id === "item3") {
              const days = parseInt(daysInput.value);
              total += price * days;
            } else {
              total += price;
            }
          }
        });

        totalElement.textContent = total.toLocaleString();
        balanceShortfallElement.textContent = "";

        if (total > balance) {
          const shortfall = total - balance;
          balanceShortfallElement.textContent = `Saldo kurang: Rp ${shortfall.toLocaleString()}`;
        }
      }

      function checkBalance() {
        let total = 0;

        checkboxes.forEach((checkbox) => {
          if (checkbox.checked) {
            const price = parseInt(checkbox.getAttribute("data-price"));
            if (checkbox.id === "item3") {
              const days = parseInt(daysInput.value);
              total += price * days;
            } else {
              total += price;
            }
          }
        });

        const remainingBalance = balance - total;

        if (remainingBalance >= 0) {
          remainingBalanceElement.textContent = `Sisa Saldo: Rp ${remainingBalance.toLocaleString()}`;
          balanceShortfallElement.textContent = "";
        } else {
          remainingBalanceElement.textContent = "";
          const shortfall = total - balance;
          balanceShortfallElement.textContent = `Saldo kurang: Rp ${shortfall.toLocaleString()}`;
        }
      }

      function updateBalance() {
        const newBalance = parseInt(inputSaldoElement.value);
        if (!isNaN(newBalance)) {
          balance = newBalance;
          balanceElement.textContent = balance.toLocaleString();
          inputSaldoElement.value = "";
          updateTotal();
          checkBalance();
        } else {
          alert("Masukkan saldo yang valid.");
        }
      }
    </script>
  </body>
</html>
